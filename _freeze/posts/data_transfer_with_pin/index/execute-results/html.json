{
  "hash": "f38651df21f66d7735f7d3d6526750a6",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"使用R pin数据传输\"\nsubtitle: \"For data transfer between local and cloud\"\nauthor: \"Tony D\"\n\ndate: \"2025-03-15\"\n\ncategories: \n  - Tool\n  - R\n\n  \nexecute:\n  warning: false\n  error: false\n  eval: false\n  \n---\n\nA guide to using the `pins` package in R for data transfer and version control between local and online storage.\n\nThis document provides a comprehensive guide to using the `pins` package in R for efficient data transfer and version control. It demonstrates how to set up and use both local and online boards (with OneDrive as an example) to store and retrieve data and other files. The guide covers essential `pins` functions for uploading, downloading, listing, and managing different versions of your data, making it a valuable resource for creating reproducible and collaborative data science workflows.\n\nThe `pins` package is used for uploading and downloading data/models to online drives.\n\n![](images/Screenshot 2023-07-04 at 6.25.10 PM.png)\n\n::: {.cell}\n\n```{.r .cell-code}\npak::pkg_install(\"pins\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(pins)\nlibrary(tidyverse)\n```\n:::\n\n\n# local board\n\n## use local location as a board\n\n::: {.cell}\n\n```{.r .cell-code}\nboard=board_folder(getwd())\n```\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nboard %>% pin_list()\n```\n:::\n\n\n## upload to local board\n\n::: {.cell}\n\n```{.r .cell-code}\nboard %>% pin_write(head(mtcars), \"mtcars\")\n```\n:::\n\n## download from local board\n\n::: {.cell}\n\n```{.r .cell-code}\na=board %>% pin_read(\"mtcars\")\na\n```\n:::\n\n## upload file to board\n\n::: {.cell}\n\n```{.r .cell-code}\nboard %>% pin_upload('thumbnail.jpg','new.thumbnail.jpg')\n```\n:::\n\n## list file in the board\n\n::: {.cell}\n\n```{.r .cell-code}\nboard %>% pin_list()\n```\n:::\n\n\n## download file from board\n\n::: {.cell}\n\n```{.r .cell-code}\nboard %>% pin_download('new.thumbnail.jpg')\n```\n:::\n\n\n\n# online one drive board \n\n\n##  one drive as as a board\n::: {.cell}\n\n```{.r .cell-code}\nod <- Microsoft365R::get_personal_onedrive()\nboard365 <- board_ms365(od, \"myboard\")\n```\n:::\n\n\n## upload to one drive board\n\n::: {.cell}\n\n```{.r .cell-code}\nboard365 %>% pin_write(tail(mtcars), \"mtcars\")\n```\n:::\n\n## download from one drive board\n\n::: {.cell}\n\n```{.r .cell-code}\nboard365 %>% pin_read(\"mtcars\")\n```\n:::\n\n## list file in the board\n\n::: {.cell}\n\n```{.r .cell-code}\nboard %>% pin_list()\n```\n:::\n\n\n\n\n# using version\n\nupload two data to mtcars with version control\n\n::: {.cell}\n\n```{.r .cell-code}\nboard %>% pin_write(tail(mtcars), \"mtcars_version\",versioned = TRUE)\nboard %>% pin_write(head(mtcars), \"mtcars_version\",versioned = TRUE)\n```\n:::\n\n## there will be two version\n\n::: {.cell}\n\n```{.r .cell-code}\nboard %>% pin_versions(\"mtcars_version\")\n```\n:::\n\n## download version file from board\n\n::: {.cell}\n\n```{.r .cell-code}\n# board %>% pin_read(\"mtcars_version\",version = '20230704T095208Z-8df40')\nboard %>% pin_read(\"mtcars_version\",version = .Last.value$version[[1]])\n```\n:::\n\n\n\n# Reference\n\nRStudio's {pins} package: what it is, how it works, and what it can do for you! \\|\\| RStudio https://www.youtube.com/watch?v=3Yk6U_XqxNo\n\nJavier Luraschi \\| Datasets in Reproducible Research with 'pins' \\| RStudio (2020) https://www.youtube.com/watch?v=xwItECnphRU\n\npins doc:\nhttps://pins.rstudio.com/\n\nEp 5: Keeping data up-to-date with 6 pins workflows | Posit Team:\nhttps://www.youtube.com/watch?v=t8A-ysXinpE\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}