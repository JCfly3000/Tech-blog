{
  "hash": "69b61e8ebb2641d1dd97c22d84b552c3",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Version control for Python with uv\"\nauthor: \"Tony D\"\nexecute:\n  warning: false\n  error: false\n\n  \ndate: \"2025-03-14\"\ncategories: \n  - Tool\n  - Python\n  \nimage: \"images.png\"\n\njupyter: python3\n---\n\nA comprehensive guide to using uv for Python project and package management. This document covers installation, project initialization, Python version management, and various package operations.\n\nThis document provides a comprehensive guide to using `uv`, a fast and efficient tool for Python project and package management. It covers the entire workflow, from installation and project initialization to managing Python versions and handling package operations. The guide also demonstrates how to use `uv` to synchronize dependencies and even run scripts with specific package requirements. This is a valuable resource for any Python developer looking to streamline their development process.\n\nIntroduces `uv` as a fast and comprehensive tool for Python project and package management. It covers `uv`'s installation, project initialization, Python version management, package operations, and dependency synchronization.\n\n-   üöÄ A single tool to replace `pip`, `pip-tools`, `pipx`, `poetry`, `pyenv`, `twine`, `virtualenv`, and more.\n\n-   ‚ö°Ô∏è [10-100x faster](https://github.com/astral-sh/uv/blob/main/BENCHMARKS.md) than `pip`.\n\n-   üóÇÔ∏è Provides [comprehensive project management](https://github.com/astral-sh/uv?tab=readme-ov-file#projects), with a [universal lockfile](https://docs.astral.sh/uv/concepts/projects/layout#the-lockfile).\n\n![](images/clipboard-203636132.png)\n\n# install\n\n::: {#317df4d8 .cell execution_count=1}\n``` {.python .cell-code}\n!pip install uv\n```\n:::\n\n\n# create project in current folder\n\n::: {#5b8b5f8f .cell execution_count=2}\n``` {.python .cell-code}\n!uv init\n```\n:::\n\n\n# show download python version\n\n\n# chose python version\n\n::: {#45fee509 .cell execution_count=3}\n``` {.python .cell-code}\n!uv python pin 3.13\n```\n:::\n\n\n# show all python include non download version \n\n::: {#433d67be .cell execution_count=4}\n``` {.python .cell-code}\n!uv python list\n```\n\n::: {.cell-output .cell-output-stdout}\n```\ncpython-3.14.0a5+freethreaded-macos-aarch64-none    <download available>\r\ncpython-3.14.0a5-macos-aarch64-none                 <download available>\r\ncpython-3.13.2+freethreaded-macos-aarch64-none      <download available>\r\ncpython-3.13.2-macos-aarch64-none                   /usr/local/bin/python3.13 -> ../../../Library/Frameworks/Python.framework/Versions/3.13/bin/python3.13\r\ncpython-3.13.2-macos-aarch64-none                   /opt/homebrew/opt/python@3.13/bin/python3.13 -> ../Frameworks/Python.framework/Versions/3.13/bin/python3.13\r\ncpython-3.13.2-macos-aarch64-none                   /Library/Frameworks/Python.framework/Versions/3.13/bin/python3.13\r\ncpython-3.13.2-macos-aarch64-none                   /Library/Frameworks/Python.framework/Versions/3.13/bin/python3 -> python3.13\r\ncpython-3.13.2-macos-aarch64-none                   <download available>\r\ncpython-3.12.9-macos-aarch64-none                   /usr/local/bin/python3.12 -> ../../../Library/Frameworks/Python.framework/Versions/3.12/bin/python3.12\r\ncpython-3.12.9-macos-aarch64-none                   /usr/local/bin/python3 -> ../../../Library/Frameworks/Python.framework/Versions/3.12/bin/python3\r\ncpython-3.12.9-macos-aarch64-none                   /Library/Frameworks/Python.framework/Versions/3.12/bin/python3.12\r\ncpython-3.12.9-macos-aarch64-none                   /Library/Frameworks/Python.framework/Versions/3.12/bin/python3 -> python3.12\r\ncpython-3.12.9-macos-aarch64-none                   <download available>\r\ncpython-3.11.11-macos-aarch64-none                  /Users/jinchaoduan/.local/share/uv/python/cpython-3.11.11-macos-aarch64-none/bin/python3.11\r\ncpython-3.11.9-macos-aarch64-none                   /usr/local/bin/python3.11 -> ../../../Library/Frameworks/Python.framework/Versions/3.11/bin/python3.11\r\ncpython-3.11.9-macos-aarch64-none                   /Library/Frameworks/Python.framework/Versions/3.11/bin/python3.11\r\ncpython-3.11.9-macos-aarch64-none                   /Library/Frameworks/Python.framework/Versions/3.11/bin/python3 -> python3.11\r\ncpython-3.11.9-macos-aarch64-none                   /Users/jinchaoduan/.local/share/uv/python/cpython-3.11.9-macos-aarch64-none/bin/python3.11\r\ncpython-3.10.16-macos-aarch64-none                  <download available>\r\ncpython-3.9.21-macos-aarch64-none                   <download available>\r\ncpython-3.9.6-macos-aarch64-none                    /Library/Developer/CommandLineTools/usr/bin/python3 -> ../../Library/Frameworks/Python3.framework/Versions/3.9/bin/python3\r\ncpython-3.8.20-macos-aarch64-none                   <download available>\r\npypy-3.11.11-macos-aarch64-none                     <download available>\r\npypy-3.10.16-macos-aarch64-none                     <download available>\r\npypy-3.9.19-macos-aarch64-none                      <download available>\r\npypy-3.8.16-macos-aarch64-none                      <download available>\r\n```\n:::\n:::\n\n\n# download python version if not download\n\n::: {#2482ef97 .cell execution_count=5}\n``` {.python .cell-code}\n!uv python install cpython-3.14.0\n```\n:::\n\n\n# install pacakge\n\n::: {#545e91a8 .cell execution_count=6}\n``` {.python .cell-code}\n!uv add siuba\n```\n:::\n\n\n# show pacakge\n\n::: {#3cb1e2f7 .cell execution_count=7}\n``` {.python .cell-code}\n!uv tree\n```\n:::\n\n\n# delete pacakge\n\n::: {#f9b2c654 .cell execution_count=8}\n``` {.python .cell-code}\n!uv remove rich\n```\n:::\n\n\n# update lock file\n\n::: {#c4864bed .cell execution_count=9}\n``` {.python .cell-code}\n!uv lock --upgrade\n```\n:::\n\n\n# Locking requirements\n\n::: {#3163bd76 .cell execution_count=10}\n``` {.python .cell-code}\nuv pip compile pyproject.toml -o requirements.txt\n```\n:::\n\n\n# check lock file and current environment\n\n::: {#40081002 .cell execution_count=11}\n``` {.python .cell-code}\n!uv lock --check\n```\n:::\n\n\n# Sync the project's dependencies with the environment,it will add packages to the environment from toml file.\n\n::: {#4c0afa6d .cell execution_count=12}\n``` {.python .cell-code}\n!uv sync\n```\n:::\n\n\n# using uv with script header\n\n\n## there is no rich package in python\n\n::: {#48ac42f8 .cell execution_count=13}\n``` {.python .cell-code}\ntry:\n    import rich\n    print('pacakge installed')\nexcept ImportError as e:\n    print('pacakge not installed')\n    pass  # module doesn't exist, deal with it.\n```\n:::\n\n\n## but can add rich package in script\n\n```{.python file.name='test.py'}\n#| eval: false\n\n# /// script\n# requires-python = \">=3.12\"\n# dependencies = [\n#   \"requests<3\",\n#   \"rich\",\n# ]\n# ///\n\nimport requests\nimport rich\nfrom rich.pretty import pprint\n\n\nimport rich\nfrom importlib.metadata import version\n\nprint('test.py is running')\nprint('version is :')\nprint(version('rich'))\n\n\n```\n\n## run .py with uv\n\n::: {#63e88487 .cell execution_count=14}\n``` {.python .cell-code}\n!uv run test.py\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0/0\r‚†ô Resolving dependencies...                                                     \r‚†ã Resolving dependencies...                                                     \r‚†ô Resolving dependencies...                                                     \r‚†π Resolving dependencies...                                                     \r‚†∏ Resolving dependencies...                                                     \r‚†∏ requests==2.32.4                                                              \r‚†∏ rich==14.0.0                                                                  \r‚†º rich==14.0.0                                                                  \r‚†¥ rich==14.0.0                                                                  \r‚†¶ rich==14.0.0                                                                  \r‚†¶ charset-normalizer==3.4.2                                                     \r‚†¶ idna==3.10                                                                    \r‚†¶ urllib3==2.5.0                                                                \r‚†¶ certifi==2025.6.15                                                            \r‚†¶ markdown-it-py==3.0.0                                                         \r‚†¶ pygments==2.19.2                                                              \r‚†¶ mdurl==0.1.2                                                                  \r‚†¶                                                                               \r‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [0/0] Installing wheels...                                 \r‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [0/9] Installing wheels...                                 \r‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [0/9] certifi==2025.6.15                                   \r‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [1/9] certifi==2025.6.15                                   \r‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [1/9] rich==14.0.0                                         \r‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [2/9] rich==14.0.0                                         \r‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [2/9] idna==3.10                                           \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [3/9] idna==3.10                                           \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [3/9] requests==2.32.4                                     \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [4/9] requests==2.32.4                                     \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [4/9] urllib3==2.5.0                                       \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [5/9] urllib3==2.5.0                                       \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [5/9] mdurl==0.1.2                                         \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [6/9] mdurl==0.1.2                                         \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [6/9] markdown-it-py==3.0.0                                \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë [7/9] markdown-it-py==3.0.0                                \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë [7/9] charset-normalizer==3.4.2                            \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë [8/9] charset-normalizer==3.4.2                            \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë [8/9] pygments==2.19.2                                     \r‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà [9/9] pygments==2.19.2                                     \rInstalled 9 packages in 21ms\r\ntest.py is running\r\nversion is :\r\n14.0.0\r\n```\n:::\n:::\n\n\n# reference:\n\nhttps://github.com/astral-sh/uv\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}